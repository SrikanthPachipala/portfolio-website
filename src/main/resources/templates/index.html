<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <title th:text="${user != null ? user.name : 'Portfolio'}"></title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    /* Keyframes for fade-in */
    @keyframes fadeIn {
      from { opacity: 0; transform: scale(0.9); }
      to { opacity: 1; transform: scale(1); }
    }
    .fade { animation: fadeIn 1s ease-in-out forwards; }

    /* Pupils inside SVG */
    .pupil {
      fill: black;
      transition: transform 0.1s;
    }
  </style>
</head>
<body class="bg-gradient-to-br from-gray-900 via-gray-800 to-black text-white min-h-screen flex items-center justify-center relative">

  <!-- Standing Man -->
  <div class="flex flex-col items-center fade">
    <svg width="220" height="400" viewBox="0 0 220 400">
      <!-- Grouped Head -->
      <g id="head">
        <!-- Head -->
        <circle cx="110" cy="80" r="60" fill="#fcd5b4" stroke="black" stroke-width="3"/>
        <!-- Eyes -->
        <circle cx="85" cy="70" r="18" fill="white"/>
        <circle cx="135" cy="70" r="18" fill="white"/>
        <!-- Pupils -->
        <circle id="pupil-left" class="pupil" cx="85" cy="70" r="7"/>
        <circle id="pupil-right" class="pupil" cx="135" cy="70" r="7"/>
        <!-- Smile -->
        <path d="M85 100 Q110 120 135 100" stroke="black" stroke-width="3" fill="transparent"/>
      </g>

      <!-- Body -->
      <rect x="80" y="140" width="60" height="120" rx="20" fill="#2563eb" stroke="black" stroke-width="3"/>
      <!-- Arms -->
      <line x1="80" y1="160" x2="40" y2="230" stroke="#2563eb" stroke-width="15" stroke-linecap="round"/>
      <line x1="140" y1="160" x2="180" y2="230" stroke="#2563eb" stroke-width="15" stroke-linecap="round"/>
      <!-- Legs -->
      <line x1="95" y1="260" x2="70" y2="360" stroke="black" stroke-width="15" stroke-linecap="round"/>
      <line x1="125" y1="260" x2="150" y2="360" stroke="black" stroke-width="15" stroke-linecap="round"/>
    </svg>

    <!-- Name + Title -->
    <h1 class="text-4xl font-extrabold mt-6 tracking-wide bg-gradient-to-r from-blue-400 via-purple-500 to-pink-500 bg-clip-text text-transparent animate-pulse"
        th:text="${user != null ? user.name : 'Srikanth Pachipala'}"></h1>
    <h3 class="text-xl text-gray-300 mt-2"
        th:text="${user != null ? user.title : 'Java Developer'}"></h3>
  </div>

  <!-- Navigation: Four Corners -->
  <a href="/about"
     class="absolute top-6 left-6 px-5 py-3 bg-blue-500 rounded-lg shadow-lg hover:bg-blue-600 hover:scale-110 transition">
     About
  </a>
  <a href="/skills"
     class="absolute top-6 right-6 px-5 py-3 bg-green-500 rounded-lg shadow-lg hover:bg-green-600 hover:scale-110 transition">
     Skills
  </a>
  <a href="/projects"
     class="absolute bottom-6 left-6 px-5 py-3 bg-purple-500 rounded-lg shadow-lg hover:bg-purple-600 hover:scale-110 transition">
     Projects
  </a>
  <a href="/contact"
     class="absolute bottom-6 right-6 px-5 py-3 bg-yellow-500 rounded-lg shadow-lg hover:bg-yellow-600 hover:scale-110 transition">
     Contact
  </a>

  <!-- Footer -->
  <footer class="absolute bottom-2 text-gray-400 text-xs">
    Â© <span th:text="${#dates.format(#dates.createNow(), 'yyyy')}"></span> 
    <span th:text="${user != null ? user.name : 'Your Name'}"></span> | All Rights Reserved
  </footer>

  <!-- Eye + Head Tracker Script -->
  <script>
    const pupils = [
      document.getElementById("pupil-left"),
      document.getElementById("pupil-right")
    ];
    const head = document.getElementById("head");
    const maxMove = 6; // pupil movement
    const maxRotate = 10; // head tilt in degrees

    document.addEventListener("mousemove", (e) => {
      const { innerWidth, innerHeight } = window;
      const x = (e.clientX / innerWidth - 0.5) * 2;
      const y = (e.clientY / innerHeight - 0.5) * 2;

      // Move pupils
      pupils.forEach(pupil => {
        pupil.setAttribute("transform", `translate(${x * maxMove}, ${y * maxMove})`);
      });

      // Rotate head slightly toward cursor
      const angle = x * maxRotate; 
      head.setAttribute("transform", `rotate(${angle}, 110, 80)`);
    });
  </script>

</body>
</html>
